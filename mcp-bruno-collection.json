{
  "info": {
    "name": "Marketing Connect MCP",
    "description": "Test collection for Marketing Connect MCP Server.\n\nIMPORTANT: MCP is a stateful protocol!\n1. Always run '1. Initialize' first to get a session ID\n2. Copy the 'mcp-session-id' from the response header\n3. Set it in the collection variable 'sessionId'\n4. Then run other requests",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8000",
      "type": "string"
    },
    {
      "key": "sessionId",
      "value": "",
      "type": "string",
      "description": "MCP Session ID - set this after running Initialize"
    }
  ],
  "item": [
    {
      "name": "Health & Info",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/health",
              "host": ["{{baseUrl}}"],
              "path": ["health"]
            },
            "description": "Simple health check to verify the server is running.\n\nExpected: {\"status\": \"UP\"}"
          }
        },
        {
          "name": "Server Info",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/info",
              "host": ["{{baseUrl}}"],
              "path": ["info"]
            },
            "description": "Get server metadata including version, config, and uptime."
          }
        }
      ]
    },
    {
      "name": "MCP Protocol",
      "description": "MCP Protocol requests. IMPORTANT: Run Initialize first!",
      "item": [
        {
          "name": "1. Initialize (RUN FIRST)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json, text/event-stream"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 1,\n  \"method\": \"initialize\",\n  \"params\": {\n    \"protocolVersion\": \"2024-11-05\",\n    \"capabilities\": {},\n    \"clientInfo\": {\n      \"name\": \"bruno-test-client\",\n      \"version\": \"1.0.0\"\n    }\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/mcp",
              "host": ["{{baseUrl}}"],
              "path": ["mcp"]
            },
            "description": "Initialize the MCP session.\n\nIMPORTANT: After running this:\n1. Check the response headers for 'mcp-session-id'\n2. Copy that value\n3. Set it in the collection variable 'sessionId'\n4. All subsequent MCP requests require this session ID"
          }
        },
        {
          "name": "2. List Tools",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json, text/event-stream"
              },
              {
                "key": "Mcp-Session-Id",
                "value": "{{sessionId}}",
                "description": "Session ID from Initialize response"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 2,\n  \"method\": \"tools/list\",\n  \"params\": {}\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/mcp",
              "host": ["{{baseUrl}}"],
              "path": ["mcp"]
            },
            "description": "List all available MCP tools.\n\nRequires valid sessionId from Initialize."
          }
        },
        {
          "name": "3. List Resources",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json, text/event-stream"
              },
              {
                "key": "Mcp-Session-Id",
                "value": "{{sessionId}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 3,\n  \"method\": \"resources/list\",\n  \"params\": {}\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/mcp",
              "host": ["{{baseUrl}}"],
              "path": ["mcp"]
            },
            "description": "List all available MCP resources.\n\nRequires valid sessionId from Initialize."
          }
        },
        {
          "name": "4. Call greet_employee",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json, text/event-stream"
              },
              {
                "key": "Mcp-Session-Id",
                "value": "{{sessionId}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 4,\n  \"method\": \"tools/call\",\n  \"params\": {\n    \"name\": \"greet_employee\",\n    \"arguments\": {\n      \"user_id\": \"R741020\",\n      \"user_name\": \"Alan Davis\"\n    }\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/mcp",
              "host": ["{{baseUrl}}"],
              "path": ["mcp"]
            },
            "description": "Call the greet_employee tool.\n\nParameters:\n- user_id: Employee ID (e.g., \"R741020\")\n- user_name: Employee name (e.g., \"Alan Davis\")\n\nRequires valid sessionId from Initialize."
          }
        },
        {
          "name": "5. Read Product List Resource",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json, text/event-stream"
              },
              {
                "key": "Mcp-Session-Id",
                "value": "{{sessionId}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 5,\n  \"method\": \"resources/read\",\n  \"params\": {\n    \"uri\": \"data://products/list\"\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/mcp",
              "host": ["{{baseUrl}}"],
              "path": ["mcp"]
            },
            "description": "Read the product details list resource.\n\nReturns all products with their details.\n\nRequires valid sessionId from Initialize."
          }
        },
        {
          "name": "6. Call echo (test tool)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json, text/event-stream"
              },
              {
                "key": "Mcp-Session-Id",
                "value": "{{sessionId}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 6,\n  \"method\": \"tools/call\",\n  \"params\": {\n    \"name\": \"echo\",\n    \"arguments\": {\n      \"message\": \"Hello from Bruno!\"\n    }\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/mcp",
              "host": ["{{baseUrl}}"],
              "path": ["mcp"]
            },
            "description": "Simple echo tool to test basic tool invocation.\n\nRequires valid sessionId from Initialize."
          }
        },
        {
          "name": "7. Call calculate",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json, text/event-stream"
              },
              {
                "key": "Mcp-Session-Id",
                "value": "{{sessionId}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 7,\n  \"method\": \"tools/call\",\n  \"params\": {\n    \"name\": \"calculate\",\n    \"arguments\": {\n      \"expression\": \"(10 + 5) * 2\"\n    }\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/mcp",
              "host": ["{{baseUrl}}"],
              "path": ["mcp"]
            },
            "description": "Evaluate a mathematical expression.\n\nRequires valid sessionId from Initialize."
          }
        }
      ]
    }
  ]
}
